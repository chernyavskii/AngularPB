<mat-card>
  <mat-card-header>
    <mat-card-title>Мои Документы</mat-card-title>
    <mat-card-subtitle>Создание нового документа</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <mat-vertical-stepper [linear]="true">
      <mat-step label="Шаг 1" [stepControl]="initFormGroup">
        <form [formGroup]="initFormGroup">
          <div class="grid__row grid__row--md">
              <mat-form-field class="grid__item">
                <mat-select (selectionChange)="checkTypeOfDocument($event)" [(value)]="selected" placeholder="Выбор типа документа" formControlName="typeOfDocument_id" disableRipple
                            required>
                  <mat-option *ngFor="let typeDoc of typeOfDocument_" [value]="typeDoc.value"> <!--formControlName=""-->
                    {{typeDoc.viewValue}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            <div *ngIf="secondBlockCheck" >
              <div *ngIf="secondBlockStrictCheck">
                <mat-form-field class="grid__item">
                  <mat-select (selectionChange)="checkTypeOfDocument($event)" [(value)]="selected" placeholder="Выбор типа документа" formControlName="typeOfStrictDocument_id" disableRipple
                              required>
                    <mat-option *ngFor="let typeDoc of typeOfStrictReportingDocument_" [value]="typeDoc.value"> <!--formControlName=""-->
                      {{typeDoc.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div *ngIf="secondBlockNotStrictCheck">
                <mat-form-field class="grid__item">
                  <mat-select (selectionChange)="checkTypeOfDocument($event)" [(value)]="selected" placeholder="Выбор типа документа" formControlName="typeOfNotStrictDocument_id" disableRipple
                              required>
                    <mat-option *ngFor="let typeDoc of typeOfNotStrictReportingDocument_" [value]="typeDoc.value"> <!--formControlName=""-->
                      {{typeDoc.viewValue}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
           <!--   <mat-form-field class="grid__item">
                <mat-select [(value)]="selected" placeholder="Выбор типа документа" formControlName="typeOfStrictDocument" disableRipple
                            required>
                  <mat-option *ngFor="let typeDoc of typeOfDocument_" [value]="typeDoc.value"> &lt;!&ndash;formControlName=""&ndash;&gt;
                    {{typeDoc.viewValue}}
                  </mat-option>
                </mat-select>
              </mat-form-field>-->
            </div>
          </div>
        </form>
      </mat-step>
      <mat-step label="Шаг 2" [stepControl]="firstFormGroup">
        <form [formGroup]="firstFormGroup">
          <div class="grid__row grid__row--md">
            <mat-form-field class="grid__item">
              <mat-select placeholder="Выбор контрагента" formControlName="agent_id" disableRipple required>
                <mat-option *ngFor="let agent of allAgents" [value]="agent.id">
                  {{agent.firstName}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="grid__row grid__row--md">
            <mat-form-field class="grid__item">
              <input type="text" matInput placeholder="Название товара" formControlName="name" required/>
            </mat-form-field>
            <mat-form-field class="grid__item">
              <input matInput placeholder="Цена" type="number" formControlName="price" required>
              <!--[(ngModel)]="user.username"-->
              <span matPrefix>б.р.&nbsp;</span>
              <span matSuffix>.00</span>
            </mat-form-field>

            <mat-form-field class="grid__item">
              <mat-select placeholder="Выбор единицы измерения" [formControl]="unitsControl" required>
                <mat-optgroup *ngFor="let unit of units_" [label]="unit.name">
                  <mat-option *ngFor="let pokemon of unit.pokemon" [value]="pokemon.value">
                    {{ pokemon.viewValue }}
                  </mat-option>
                </mat-optgroup>
              </mat-select>
            </mat-form-field>

            <mat-form-field class="grid__item">
              <input matInput placeholder="Количество" type="number" formControlName="number">
              <span matSuffix>шт.&nbsp;</span>
            </mat-form-field>
          </div>

          <div class="grid__row grid__row--md">
            <mat-form-field class="grid__item">
              <input matInput placeholder="Примечание" type="text" formControlName="note" [(ngModel)]="product.note">
            </mat-form-field>
          </div>
        </form>
      </mat-step>

      <mat-step label="Шаг 3">
        <div style="margin-top: 7px;">
          <button class="add__button" mat-button color="primary" (click)="addDocumentTN()">СОЗДАТЬ ДОКУМЕНТ</button>
        </div>
        <div class="grid__row grid__row--md" *ngIf="onSelect">
          <button class="grid__item" mat-button color="primary"
                  (click)="saveDocumentInPdf()">Скачать .pdf
          </button>
          <button class="grid__item" mat-button color="primary" (click)="printDocument()">Печать .pdf</button>

          <button class="grid__item" mat-button color="primary" (click)="showDocumentInPdf()">Показать</button>

        </div>
        <div class="testDocDiv">
          <pdf-viewer [src]="pageurl" [original-size]="true" [show-all]="true"></pdf-viewer>
        </div>
      </mat-step>
    </mat-vertical-stepper>
  </mat-card-content>
</mat-card>
